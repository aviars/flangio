{% extends "base.html" %}
{% block active_nav_tab %}reports-active{% endblock %}

{% block middle %}
<div class="header-box">
    <h1>Reports</h1>
</div>

<div class="content-box">

    <h2>Choose an existing report or <a href="./create/">create a new report</a>.</h2>
    
    
    <table class="tabledata">
        <tr>
            <th style="width:50%;">Dynamic Report Name</th>
            <th style="width:20%;">Date</th>
            <th>Actions</th>
        </tr>

        {% for report in reports %}
        <tr class="odd-row">
        <td>{{ report.name }}</td>
        <td>{{ report.creation_date|date:'m-d-Y' }}</td>
        <td>
            
        <a class="execute-link" href="/reports/execute/json/{{ report.pk }}" title="">JSON</a> |
        <a class="execute-link" href="/reports/execute/xls/{{ report.pk }}" title="">Excel</a> |
        <a class="execute-link" href="/reports/execute/csv/{{ report.pk }}" title="">CSV</a> |
        <a class="execute-link" href="/reports/edit/{{ report.pk }}" title="">Edit</a> |
        <a class="delete-link" href="/reports/delete/{{ report.pk }}" title="">Delete</a>
        
        </td>
        </tr>
        {% endfor %}
    </table>


</div>

{% endblock %}

{% block footer_js %}
    <script type="text/javascript">
        $(function(){
            $('a.delete-link').click(function(e){
                return confirm('Are you sure you want to delete this report?');
            })
        });
    </script>
{% endblock %}